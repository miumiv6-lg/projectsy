<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Project SY - –ó–∞–≥—Ä—É–∑–∫–∞</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    html, body {
      width: 100%; height: 100%;
      overflow: hidden;
      background: #000;
      color: #fff;
      font-family: 'Inter', -apple-system, sans-serif;
      -webkit-font-smoothing: antialiased;
      user-select: none;
    }

    .container {
      width: 100%; height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    .bg-video {
      position: absolute;
      inset: 0;
      width: 100%; height: 100%;
      object-fit: cover;
      opacity: 0.4;
      filter: blur(8px);
      transform: scale(1.1);
    }

    .overlay {
      position: absolute;
      inset: 0;
      background: rgba(0,0,0,0.5);
    }

    .content {
      position: relative;
      z-index: 10;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      animation: fadeIn 1s ease-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    .logo {
      width: 100px; height: 100px;
      border-radius: 24px;
      object-fit: cover;
      margin-bottom: 24px;
      border: 1px solid rgba(255,255,255,0.1);
    }

    .title {
      font-size: 32px;
      font-weight: 700;
      margin-bottom: 4px;
    }

    .title span { color: #007AFF; }

    .subtitle {
      font-size: 14px;
      color: #007AFF;
      text-transform: uppercase;
      letter-spacing: 4px;
      margin-bottom: 48px;
    }

    .progress-container {
      width: 320px;
      margin-bottom: 16px;
    }

    .progress-bar {
      width: 100%;
      height: 6px;
      background: rgba(255,255,255,0.1);
      border-radius: 3px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: #007AFF;
      border-radius: 3px;
      width: 0%;
      transition: width 0.3s ease;
    }

    .progress-text {
      display: flex;
      justify-content: space-between;
      font-size: 12px;
      color: rgba(255,255,255,0.5);
      margin-top: 8px;
    }

    .status {
      font-size: 14px;
      color: rgba(255,255,255,0.6);
      margin-top: 24px;
      max-width: 400px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .server-info {
      position: absolute;
      bottom: 32px;
      left: 32px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .server-logo {
      width: 48px; height: 48px;
      border-radius: 12px;
      object-fit: cover;
    }

    .server-name {
      font-weight: 600;
      font-size: 14px;
    }

    .server-mode {
      font-size: 11px;
      color: rgba(255,255,255,0.4);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    /* Tips - –≤—ã—à–µ –Ω–∞–¥ GMod –∑–∞–≥—Ä—É–∑–∫–æ–π */
    .tips {
      position: absolute;
      bottom: 120px;
      right: 32px;
      text-align: right;
      max-width: 300px;
    }

    .tip-label {
      font-size: 10px;
      color: rgba(255,255,255,0.3);
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 4px;
    }

    .tip-text {
      font-size: 13px;
      color: rgba(255,255,255,0.6);
      line-height: 1.4;
    }

    /* === SCREEN STATES === */
    .screen { display: none; }
    .screen.active { display: flex; }

    /* Click to Start Screen */
    #clickScreen {
      flex-direction: column;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }

    .click-icon {
      width: 80px; height: 80px;
      margin-bottom: 32px;
      animation: bounce 2s ease-in-out infinite;
    }

    .click-text {
      font-size: 24px;
      font-weight: 600;
      color: rgba(255,255,255,0.8);
      animation: pulse 2s ease-in-out infinite;
    }

    .click-hint {
      font-size: 14px;
      color: rgba(255,255,255,0.4);
      margin-top: 12px;
    }

    /* Spawn Selection Screen */
    #spawnScreen {
      flex-direction: column;
      align-items: center;
      padding: 40px;
    }

    .spawn-title {
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .spawn-subtitle {
      font-size: 14px;
      color: rgba(255,255,255,0.5);
      margin-bottom: 40px;
    }

    .spawn-filters {
      display: flex;
      gap: 12px;
      margin-bottom: 32px;
    }

    .filter-btn {
      padding: 10px 24px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.1);
      background: rgba(255,255,255,0.05);
      color: rgba(255,255,255,0.6);
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
    }

    .filter-btn:hover {
      background: rgba(255,255,255,0.1);
      color: #fff;
    }

    .filter-btn.active {
      background: #007AFF;
      border-color: #007AFF;
      color: #fff;
    }

    .spawn-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 16px;
      max-width: 900px;
      width: 100%;
    }

    .spawn-card {
      background: rgba(28, 28, 30, 0.9);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 20px;
      padding: 24px;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .spawn-card:hover {
      background: rgba(44, 44, 46, 0.9);
      border-color: rgba(255,255,255,0.15);
      transform: translateY(-2px);
    }

    .spawn-card.driver { border-left: 3px solid #007AFF; }
    .spawn-card.passenger { border-left: 3px solid #34C759; }

    .spawn-icon {
      width: 48px; height: 48px;
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
    }

    .spawn-card.driver .spawn-icon { background: rgba(0,122,255,0.2); }
    .spawn-card.passenger .spawn-icon { background: rgba(52,199,89,0.2); }

    .spawn-info h3 {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .spawn-info p {
      font-size: 13px;
      color: rgba(255,255,255,0.5);
    }

    .spawn-type {
      margin-left: auto;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 1px;
      padding: 4px 10px;
      border-radius: 6px;
    }

    .spawn-card.driver .spawn-type {
      background: rgba(0,122,255,0.2);
      color: #007AFF;
    }

    .spawn-card.passenger .spawn-type {
      background: rgba(52,199,89,0.2);
      color: #34C759;
    }

    /* Hide elements based on screen */
    .loading-only { display: block; }
    .click-only, .spawn-only { display: none; }

    body.click-mode .loading-only { display: none; }
    body.click-mode .click-only { display: block; }

    body.spawn-mode .loading-only { display: none; }
    body.spawn-mode .spawn-only { display: block; }
  </style>
</head>
<body>
  <div class="container">
    <video class="bg-video" autoplay muted loop playsinline>
      <source src="https://cdn.pixabay.com/video/2019/04/23/23011-332483109_large.mp4" type="video/mp4">
    </video>
    <div class="overlay"></div>

    <!-- LOADING SCREEN -->
    <div class="content screen active" id="loadingScreen">
      <img class="logo" src="https://i.ibb.co/Xf2nNn4H/photo-2025-12-03-19-30-54.jpg" alt="Logo">
      <h1 class="title">Project <span>SY</span></h1>
      <p class="subtitle">Metrostroi NoRank</p>

      <div class="progress-container">
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill"></div>
        </div>
        <div class="progress-text">
          <span id="statusText">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...</span>
          <span id="progressPercent">0%</span>
        </div>
      </div>

      <p class="status" id="fileStatus">–û–∂–∏–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞...</p>
    </div>

    <!-- CLICK TO START SCREEN -->
    <div class="content screen" id="clickScreen" onclick="showSpawnScreen()">
      <img class="logo" src="https://i.ibb.co/Xf2nNn4H/photo-2025-12-03-19-30-54.jpg" alt="Logo">
      <h1 class="title">Project <span>SY</span></h1>
      <p class="subtitle">Metrostroi NoRank</p>
      
      <svg class="click-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
        <rect x="6" y="3" width="12" height="18" rx="6" stroke="rgba(255,255,255,0.6)"/>
        <path d="M12 3V9" stroke="rgba(255,255,255,0.6)"/>
        <path d="M6 9H18" stroke="rgba(255,255,255,0.6)"/>
        <path d="M6 8C6 5.23858 8.68629 3 12 3V9H6V8Z" fill="#007AFF"/>
      </svg>
      
      <p class="click-text">–ù–∞–∂–º–∏—Ç–µ –õ–ö–ú —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å</p>
      <p class="click-hint">Click to continue</p>
    </div>

    <!-- SPAWN SELECTION SCREEN -->
    <div class="content screen" id="spawnScreen">
      <h1 class="spawn-title">–í—ã–±–æ—Ä —Ç–æ—á–∫–∏ —Å–ø–∞–≤–Ω–∞</h1>
      <p class="spawn-subtitle">–í—ã–±–µ—Ä–∏—Ç–µ –≥–¥–µ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ—è–≤–∏—Ç—å—Å—è</p>

      <div class="spawn-filters">
        <button class="filter-btn active" onclick="filterSpawns('all')">–í—Å–µ</button>
        <button class="filter-btn" onclick="filterSpawns('driver')">–ú–∞—à–∏–Ω–∏—Å—Ç</button>
        <button class="filter-btn" onclick="filterSpawns('passenger')">–ü–∞—Å—Å–∞–∂–∏—Ä</button>
      </div>

      <div class="spawn-grid" id="spawnGrid">
        <div class="spawn-card driver" data-type="driver" onclick="selectSpawn(this)">
          <div class="spawn-icon">üöá</div>
          <div class="spawn-info">
            <h3>–¢–ß-1 ¬´–õ–∏—Ö–æ–±–æ—Ä—ã¬ª</h3>
            <p>–≠–ª–µ–∫—Ç—Ä–æ–¥–µ–ø–æ. –°–ø–∞–≤–Ω —Å–æ—Å—Ç–∞–≤–æ–≤.</p>
          </div>
          <span class="spawn-type">–ú–∞—à–∏–Ω–∏—Å—Ç</span>
        </div>

        <div class="spawn-card driver" data-type="driver" onclick="selectSpawn(this)">
          <div class="spawn-icon">üîÑ</div>
          <div class="spawn-info">
            <h3>–¢—É–ø–∏–∫ —Å—Ç. –§–∏–∑—Ç–µ—Ö</h3>
            <p>–û–±–æ—Ä–æ—Ç–Ω—ã–π —Ç—É–ø–∏–∫. –°–º–µ–Ω–∞ –∫–∞–±–∏–Ω—ã.</p>
          </div>
          <span class="spawn-type">–ú–∞—à–∏–Ω–∏—Å—Ç</span>
        </div>

        <div class="spawn-card passenger" data-type="passenger" onclick="selectSpawn(this)">
          <div class="spawn-icon">üìç</div>
          <div class="spawn-info">
            <h3>–°—Ç. –õ–∏–∞–Ω–æ–∑–æ–≤–æ</h3>
            <p>–ü–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞</p>
          </div>
          <span class="spawn-type">–ü–∞—Å—Å–∞–∂–∏—Ä</span>
        </div>

        <div class="spawn-card passenger" data-type="passenger" onclick="selectSpawn(this)">
          <div class="spawn-icon">üìç</div>
          <div class="spawn-info">
            <h3>–°—Ç. –§–∏–∑—Ç–µ—Ö</h3>
            <p>–ö–æ–Ω–µ—á–Ω–∞—è —Å—Ç–∞–Ω—Ü–∏—è</p>
          </div>
          <span class="spawn-type">–ü–∞—Å—Å–∞–∂–∏—Ä</span>
        </div>

        <div class="spawn-card passenger" data-type="passenger" onclick="selectSpawn(this)">
          <div class="spawn-icon">üìç</div>
          <div class="spawn-info">
            <h3>–°—Ç. –Ø—Ö—Ä–æ–º—Å–∫–∞—è</h3>
            <p>–ü–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞</p>
          </div>
          <span class="spawn-type">–ü–∞—Å—Å–∞–∂–∏—Ä</span>
        </div>
      </div>
    </div>

    <!-- Server Info -->
    <div class="server-info">
      <img class="server-logo" src="https://i.ibb.co/Xf2nNn4H/photo-2025-12-03-19-30-54.jpg" alt="Server">
      <div>
        <div class="server-name">Project SY</div>
        <div class="server-mode">Metrostroi ‚Ä¢ NoRank</div>
      </div>
    </div>

    <!-- Tips - –ø–æ–¥–Ω—è—Ç—ã –≤—ã—à–µ -->
    <div class="tips loading-only">
      <div class="tip-label">–°–æ–≤–µ—Ç</div>
      <p class="tip-text" id="tipText">–ù–∞–∂–º–∏—Ç–µ TAB –≤–æ –≤—Ä–µ–º—è –∏–≥—Ä—ã, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å —Ç–∞–±–ª–∏—Ü—É –∏–≥—Ä–æ–∫–æ–≤</p>
    </div>
  </div>

  <script>
    const tips = [
      '–ù–∞–∂–º–∏—Ç–µ TAB –≤–æ –≤—Ä–µ–º—è –∏–≥—Ä—ã, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å —Ç–∞–±–ª–∏—Ü—É –∏–≥—Ä–æ–∫–æ–≤',
      '–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ F1 –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–µ–Ω—é –ø–æ–º–æ—â–∏',
      '–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –Ω–∞—à–µ–º—É Discord —Å–µ—Ä–≤–µ—Ä—É!',
      '–£–≤–∞–∂–∞–π—Ç–µ –¥—Ä—É–≥–∏—Ö –∏–≥—Ä–æ–∫–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ',
      '–°–ª–µ–¥—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞–º —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π –∏–≥—Ä—ã',
      '–ù–∞–∂–º–∏—Ç–µ ESC —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –∏–≥—Ä–æ–≤–æ–µ –º–µ–Ω—é'
    ];
    let tipIndex = 0;

    function rotateTips() {
      tipIndex = (tipIndex + 1) % tips.length;
      document.getElementById('tipText').textContent = tips[tipIndex];
    }
    setInterval(rotateTips, 5000);

    // Screen management
    function showScreen(screenId) {
      document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
      document.getElementById(screenId).classList.add('active');
    }

    function showClickScreen() {
      showScreen('clickScreen');
      document.body.classList.add('click-mode');
      document.body.classList.remove('spawn-mode');
    }

    function showSpawnScreen() {
      showScreen('spawnScreen');
      document.body.classList.remove('click-mode');
      document.body.classList.add('spawn-mode');
    }

    function filterSpawns(type) {
      document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
      
      document.querySelectorAll('.spawn-card').forEach(card => {
        if (type === 'all' || card.dataset.type === type) {
          card.style.display = 'flex';
        } else {
          card.style.display = 'none';
        }
      });
    }

    function selectSpawn(card) {
      // –í —Ä–µ–∞–ª—å–Ω–æ–º GMod –∑–¥–µ—Å—å –±—É–¥–µ—Ç –≤—ã–∑–æ–≤ Lua —Ñ—É–Ω–∫—Ü–∏–∏
      // gmod.RunConsoleCommand("spawn_at", card.querySelector('h3').textContent);
      alert('–°–ø–∞–≤–Ω: ' + card.querySelector('h3').textContent);
    }

    // GMod Loading Screen API
    function GameDetails(servername, serverurl, mapname, maxplayers, steamid, gamemode) {}

    function SetFilesTotal(total) {
      window.totalFiles = total;
    }

    function SetFilesNeeded(needed) {
      window.filesNeeded = needed;
      updateProgress();
    }

    function DownloadingFile(fileName) {
      document.getElementById('fileStatus').textContent = '–ó–∞–≥—Ä—É–∑–∫–∞: ' + fileName;
    }

    function SetStatusChanged(status) {
      const statusText = document.getElementById('statusText');
      
      if (status === '–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ä—Ç—ã...') {
        statusText.textContent = '–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ä—Ç—ã';
      } else if (status === '–û—Ç–ø—Ä–∞–≤–∫–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏...') {
        statusText.textContent = '–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ';
        // –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º Click to Start
        setTimeout(showClickScreen, 1000);
      } else {
        statusText.textContent = status;
      }
    }

    function updateProgress() {
      const total = window.totalFiles || 1;
      const needed = window.filesNeeded || 0;
      const downloaded = total - needed;
      const percent = Math.round((downloaded / total) * 100);
      
      document.getElementById('progressFill').style.width = percent + '%';
      document.getElementById('progressPercent').textContent = percent + '%';
    }

    // Demo progress
    let demoProgress = 0;
    function demoUpdate() {
      if (typeof window.totalFiles === 'undefined') {
        demoProgress += Math.random() * 3;
        if (demoProgress > 100) demoProgress = 100;
        document.getElementById('progressFill').style.width = demoProgress + '%';
        document.getElementById('progressPercent').textContent = Math.round(demoProgress) + '%';
        
        if (demoProgress < 100) {
          setTimeout(demoUpdate, 200);
        } else {
          // Demo: show click screen after loading
          setTimeout(showClickScreen, 1000);
        }
      }
    }
    setTimeout(demoUpdate, 1000);
  </script>
</body>
</html>
